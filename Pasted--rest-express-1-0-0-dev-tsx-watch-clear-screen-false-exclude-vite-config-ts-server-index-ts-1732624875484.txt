> rest-express@1.0.0 dev
> tsx watch --clear-screen=false --exclude vite.config.ts.* server/index.ts

12:32:26 PM [express] serving on port 5000

[TypeScript] Found 0 errors. Watching for file changes.
Received story generation request: {
  childName: 'skye',
  childAge: 3,
  mainCharacter: 'dragon, princess, frog, mummy',
  theme: 'nature',
  timestamp: '2024-11-26T12:33:51.497Z'
}
Starting story generation process with params: {
  childName: 'skye',
  childAge: 3,
  mainCharacter: 'dragon, princess, frog, mummy',
  theme: 'nature'
}
Generating story content with params: {
  childName: 'skye',
  childAge: 3,
  mainCharacter: 'dragon, princess, frog, mummy',
  theme: 'nature',
  hasPreviousContent: false
}
Successfully generated story content: {
  textLength: 1382,
  sceneDescriptionLength: 273,
  preview: '[Story Text]\n' +
    '\n' +
    'Once upon a time, there was a little 3-year-old girl called Skye. She lived in a magic...'
}
Successfully generated story content: { contentLength: 1382, sceneDescriptionLength: 273 }
Generating image with sanitized prompt: {
  originalLength: 273,
  sanitizedLength: 271,
  promptPreview: 'Create a cheerful, child-friendly storybook illustration with the following scene: A sunny garden sc...'
}
Generated image URL: https://oaidalleapiprodscus.blob.core.windows.net/private/org-8hqUrMQvREaIO7bDZXZNpDR1/user-RcpYfzRbtZ5ra2JTLyVdShGs/img-Bqj7gCU4ZleJZQwBuqcjJA5y.png?st=2024-11-26T11%3A34%3A30Z&se=2024-11-26T13%3A34%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=d505667d-d6c1-4a0a-bac7-5c84a87759f8&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2024-11-25T18%3A55%3A30Z&ske=2024-11-26T18%3A55%3A30Z&sks=b&skv=2024-08-04&sig=TxmLy3VOP%2BPxvxecx11IAQynLvu9nOu0JFKjvq9qIMc%3D
Generating speech for text: [Story Text]

Once upon a time, there was a little 3-year-old girl called Skye. She lived in a magic...
Successfully saved audio file: /audio/c7431b1c-c4b3-4b74-a3a9-258b915fe7fd.mp3
Generated audio URL: /audio/c7431b1c-c4b3-4b74-a3a9-258b915fe7fd.mp3
Successfully created story record: { storyId: 3 }
12:34:41 PM [express] POST /api/stories 200 in 50440ms :: {"id":3,"segments":[{"content":"[Story Text…
12:35:43 PM [express] POST /api/favorites/3 200 in 933ms :: {"id":2,"storyId":3,"createdAt":"2024-11-…