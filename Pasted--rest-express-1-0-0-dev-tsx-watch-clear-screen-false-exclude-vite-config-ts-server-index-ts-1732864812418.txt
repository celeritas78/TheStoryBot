> rest-express@1.0.0 dev
> tsx watch --clear-screen=false --exclude vite.config.ts.* server/index.ts

07:05:53 AM [express] serving on port 5000

[TypeScript] Found 0 errors. Watching for file changes.
Fetching all stories...
Stories fetched: 13
07:15:31 AM [express] GET /api/stories 304 in 2222ms :: [{"id":13,"childName":"ram","childAge":4,"cha…
07:15:35 AM [express] GET /api/stories/13 304 in 234ms :: {"id":13,"childName":"ram","childAge":4,"ch…
Story generation request: {
  childName: 'Sandy',
  childAge: 5,
  mainCharacter: 'Ramayan, Ram, Laxman, Sita, Hanuman, Raavan, Pushpak',
  theme: 'fantasy',
  timestamp: '2024-11-29T07:17:26.181Z'
}
Generating story content with params: {
  childName: 'Sandy',
  childAge: 5,
  mainCharacter: 'Ramayan, Ram, Laxman, Sita, Hanuman, Raavan, Pushpak',
  theme: 'fantasy',
  hasPreviousContent: false
}
Invalid story format: Missing title section
Error in story content generation: {
  error: Error: Story generation failed: Missing title
      at generateStoryContent (/home/runner/CustomBedtimeStories/server/services/openai.ts:97:13)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
      at <anonymous> (/home/runner/CustomBedtimeStories/server/routes.ts:93:28),
  message: 'Story generation failed: Missing title',
  stack: 'Error: Story generation failed: Missing title\n' +
    '    at generateStoryContent (/home/runner/CustomBedtimeStories/server/services/openai.ts:97:13)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at <anonymous> (/home/runner/CustomBedtimeStories/server/routes.ts:93:28)'
}
Story generation failed: {
  error: Error: Failed to generate story content: Story generation failed: Missing title
      at generateStoryContent (/home/runner/CustomBedtimeStories/server/services/openai.ts:158:11)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
      at <anonymous> (/home/runner/CustomBedtimeStories/server/routes.ts:93:28),
  message: 'Failed to generate story content: Story generation failed: Missing title',
  stack: 'Error: Failed to generate story content: Story generation failed: Missing title\n' +
    '    at generateStoryContent (/home/runner/CustomBedtimeStories/server/services/openai.ts:158:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at <anonymous> (/home/runner/CustomBedtimeStories/server/routes.ts:93:28)',
  timestamp: '2024-11-29T07:17:34.060Z'
}
07:17:34 AM [express] POST /api/stories 500 in 7884ms :: {"error":"Failed to generate story","details…