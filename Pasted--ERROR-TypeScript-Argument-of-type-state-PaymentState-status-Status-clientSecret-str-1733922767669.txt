

 ERROR(TypeScript)  Argument of type '(state: PaymentState) => { status: Status; clientSecret: string; amount: number; error: PaymentError | null; creditsToAdd?: number | undefined; currentCredits?: number | undefined; projectedTotalCredits?: number | undefined; transactionId?: number | undefined; }' is not assignable to parameter of type 'SetStateAction<PaymentState>'.
  Type '(state: PaymentState) => { status: Status; clientSecret: string; amount: number; error: PaymentError | null; creditsToAdd?: number | undefined; currentCredits?: number | undefined; projectedTotalCredits?: number | undefined; transactionId?: number | undefined; }' is not assignable to type '(prevState: PaymentState) => PaymentState'.
    Call signature return types '{ status: Status; clientSecret: string; amount: number; error: PaymentError | null; creditsToAdd?: number | undefined; currentCredits?: number | undefined; projectedTotalCredits?: number | undefined; transactionId?: number | undefined; }' and 'PaymentState' are incompatible.
      The types of 'status' are incompatible between these types.
        Type 'Status' is not assignable to type 'PaymentStatus'.
          Type '"canceled"' is not assignable to type 'PaymentStatus'.
 FILE  /home/runner/CustomBedtimeStories/client/src/components/CreditPurchaseDialog.tsx:69:23

    67 |
    68 |       console.log("Setting payment state with client secret");
  > 69 |       setPaymentState((state) => ({
       |                       ^^^^^^^^^^^^^
  > 70 |         ...state,
       | ^^^^^^^^^^^^^^^^^
  > 71 |         status: response.status,
       | ^^^^^^^^^^^^^^^^^
  > 72 |         clientSecret: response.clientSecret,
       | ^^^^^^^^^^^^^^^^^
  > 73 |         amount: response.amount,
       | ^^^^^^^^^^^^^^^^^
  > 74 |       }));
       | ^^^^^^^^^
    75 |     } catch (error) {
    76 |       const errorMessage = error instanceof Error ? error.message : "Failed to initialize payment";
    77 |       console.error("Payment initialization failed:", {

[TypeScript] Found 1 error. Watching for file changes.
