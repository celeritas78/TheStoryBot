> rest-express@1.0.0 dev
> tsx watch --clear-screen=false --exclude vite.config.ts.* server/index.ts

12:13:58 PM [express] Server is running on port 5000

 ERROR(TypeScript)  Type '(userData: { email: string; password: string; id?: number | undefined; provider?: string | undefined; providerId?: string | null | undefined; displayName?: string | null | undefined; avatarUrl?: string | ... 1 more ... | undefined; ... 9 more ...; updatedAt?: Date | undefined; }) => Promise<...>' is not assignable to type 'MutationFunction<RequestResult, { email: string; password: string; id?: number | undefined; provider?: string | undefined; providerId?: string | null | undefined; displayName?: string | null | undefined; ... 10 more ...; updatedAt?: Date | undefined; }>'.
  Type 'Promise<{ ok: boolean; message?: string | undefined; data?: any; }>' is not assignable to type 'Promise<RequestResult>'.
    Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type 'RequestResult'.
      Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: boolean; message?: string | undefined; data?: any; } & { ok: false; message: string; }'.
        Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: false; message: string; }'.
          Types of property 'ok' are incompatible.
            Type 'boolean' is not assignable to type 'false'.
 FILE  /home/runner/CustomBedtimeStories/client/src/hooks/use-user.ts:78:5

    76 |
    77 |   const loginMutation = useMutation<RequestResult, Error, InsertUser>({
  > 78 |     mutationFn: async (userData) => {
       |     ^^^^^^^^^^
    79 |       console.log('Attempting login with:', { email: userData.email });
    80 |       const result = await handleRequest('/api/login', 'POST', userData);
    81 |       console.log('Login response:', result);

 ERROR(TypeScript)  Type '() => Promise<{ ok: boolean; message?: string; data?: any; }>' is not assignable to type 'MutationFunction<RequestResult, void>'.
  Type 'Promise<{ ok: boolean; message?: string | undefined; data?: any; }>' is not assignable to type 'Promise<RequestResult>'.
    Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type 'RequestResult'.
      Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: boolean; message?: string | undefined; data?: any; } & { ok: false; message: string; }'.
        Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: false; message: string; }'.
          Types of property 'ok' are incompatible.
            Type 'boolean' is not assignable to type 'false'.
 FILE  /home/runner/CustomBedtimeStories/client/src/hooks/use-user.ts:101:5

     99 |
    100 |   const logoutMutation = useMutation<RequestResult, Error>({
  > 101 |     mutationFn: () => handleRequest('/api/logout', 'POST'),
        |     ^^^^^^^^^^
    102 |     onSuccess: () => {
    103 |       queryClient.invalidateQueries({ queryKey: ['user'] });
    104 |     },

 ERROR(TypeScript)  Type '(userData: { email: string; password: string; id?: number | undefined; provider?: string | undefined; providerId?: string | null | undefined; displayName?: string | null | undefined; avatarUrl?: string | ... 1 more ... | undefined; ... 9 more ...; updatedAt?: Date | undefined; }) => Promise<...>' is not assignable to type 'MutationFunction<RequestResult, { email: string; password: string; id?: number | undefined; provider?: string | undefined; providerId?: string | null | undefined; displayName?: string | null | undefined; ... 10 more ...; updatedAt?: Date | undefined; }>'.
  Type 'Promise<{ ok: boolean; message?: string | undefined; data?: any; }>' is not assignable to type 'Promise<RequestResult>'.
    Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type 'RequestResult'.
      Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: boolean; message?: string | undefined; data?: any; } & { ok: false; message: string; }'.
        Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: false; message: string; }'.
          Types of property 'ok' are incompatible.
            Type 'boolean' is not assignable to type 'false'.
 FILE  /home/runner/CustomBedtimeStories/client/src/hooks/use-user.ts:108:5

    106 |
    107 |   const registerMutation = useMutation<RequestResult, Error, InsertUser>({
  > 108 |     mutationFn: (userData) => handleRequest('/api/register', 'POST', userData),
        |     ^^^^^^^^^^
    109 |     onSuccess: () => {
    110 |       queryClient.invalidateQueries({ queryKey: ['user'] });
    111 |     },

 ERROR(TypeScript)  Type '(profileData: Partial<{ id: number; email: string; password: string; provider: string; providerId: string | null; displayName: string | null; avatarUrl: string | null; bio: string | null; emailVerified: boolean; ... 7 more ...; updatedAt: Date; }>) => Promise<...>' is not assignable to type 'MutationFunction<RequestResult, Partial<{ id: number; email: string; password: string; provider: string; providerId: string | null; displayName: string | null; avatarUrl: string | null; bio: string | null; ... 8 more ...; updatedAt: Date; }>>'.
  Type 'Promise<{ ok: boolean; message?: string | undefined; data?: any; }>' is not assignable to type 'Promise<RequestResult>'.
    Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type 'RequestResult'.
      Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: boolean; message?: string | undefined; data?: any; } & { ok: false; message: string; }'.
        Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: false; message: string; }'.
          Types of property 'ok' are incompatible.
            Type 'boolean' is not assignable to type 'false'.
 FILE  /home/runner/CustomBedtimeStories/client/src/hooks/use-user.ts:115:5

    113 |
    114 |   const updateProfileMutation = useMutation<RequestResult, Error, Partial<User>>({
  > 115 |     mutationFn: (profileData) => handleRequest('/api/profile', 'PUT', profileData),
        |     ^^^^^^^^^^
    116 |     onSuccess: () => {
    117 |       queryClient.invalidateQueries({ queryKey: ['user'] });
    118 |     },

 ERROR(TypeScript)  Type '() => Promise<{ ok: boolean; message?: string; data?: any; }>' is not assignable to type 'MutationFunction<RequestResult, void>'.
  Type 'Promise<{ ok: boolean; message?: string | undefined; data?: any; }>' is not assignable to type 'Promise<RequestResult>'.
    Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type 'RequestResult'.
      Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: boolean; message?: string | undefined; data?: any; } & { ok: false; message: string; }'.
        Type '{ ok: boolean; message?: string | undefined; data?: any; }' is not assignable to type '{ ok: false; message: string; }'.
          Types of property 'ok' are incompatible.
            Type 'boolean' is not assignable to type 'false'.
 FILE  /home/runner/CustomBedtimeStories/client/src/hooks/use-user.ts:122:5

    120 |
    121 |   const deleteAccountMutation = useMutation<RequestResult, Error>({
  > 122 |     mutationFn: () => handleRequest('/api/account', 'DELETE'),
        |     ^^^^^^^^^^
    123 |     onSuccess: () => {
    124 |       queryClient.invalidateQueries({ queryKey: ['user'] });
    125 |     },

[TypeScript] Found 5 errors. Watching for file changes.
Login endpoint hit, authenticated user: true
User authenticated successfully: { id: 4, email: 'sandeep.khomne@gmail.com' }
Sending login response: {
  message: 'Login successful',
  user: {
    id: 4,
    email: 'sandeep.khomne@gmail.com',
    provider: 'local',
    providerId: null,
    displayName: null,
    avatarUrl: null,
    bio: null,
    emailVerified: false,
    verificationToken: null,
    verificationTokenExpiry: null,
    resetToken: null,
    resetTokenExpiry: null,
    lastLoginAt: null,
    active: true,
    createdAt: 2024-12-04T13:13:05.642Z,
    updatedAt: 2024-12-04T13:13:05.642Z
  },
  isAuthenticated: true
}
Fetching stories for user: 4
Stories fetched: 7
12:16:17 PM [express] GET /api/stories 200 in 523ms :: [{"id":58,"title":"Saini's Ocean Adventure","câ€¦
Login endpoint hit, authenticated user: true
User authenticated successfully: { id: 4, email: 'sandeep.khomne@gmail.com' }
Sending login response: {
  message: 'Login successful',
  user: {
    id: 4,
    email: 'sandeep.khomne@gmail.com',
    provider: 'local',
    providerId: null,
    displayName: 'Sandy',
    avatarUrl: 'https://gravatar.com/avatar/768c6e996502463be81ab3d6dd3e8b40?s=400&d=robohash&r=x',
    bio: 'Investor',
    emailVerified: false,
    verificationToken: null,
    verificationTokenExpiry: null,
    resetToken: null,
    resetTokenExpiry: null,
    lastLoginAt: null,
    active: true,
    createdAt: 2024-12-04T13:13:05.642Z,
    updatedAt: 2024-12-05T12:16:12.678Z
  },
  isAuthenticated: true
}